<!DOCTYPE html>
<html>
  <head>
    <title>UNBTube</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <div class="container-fluid" id="app">
      <!-- Navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-body-tertiary">
            <div class="container-fluid justify-content-between">
                <!-- Left elements -->
                <div class="d-flex align-items-center clickable-brand hover-effect" @click="getVideos">
                  <img 
                    src="https://www.cs.unb.ca/~jdh/logolg.gif"
                    style="height: 32px; margin-right: 8px;"
                  >
                  <span class="navbar-brand text-white fw-bold mb-0">UNBTube</span>
                </div>
                <!-- Left elements -->

            
                <!-- Center elements -->
                <div class="input-group w-50">
                  <input 
                    type="text" 
                    class="form-control" 
                    placeholder="Search" 
                    v-model="input.searchTerm"
                  >
                  <div class="input-group-append">
                    <button 
                      class="btn btn-secondary" 
                      type="button" 
                      @click="searchVideos"
                    >
                      <i class="fa fa-search"></i>
                    </button>
                  </div>
                </div>
                <!-- Center elements -->

            
                <!-- Right elements -->
                <div class="navbar-nav flex-row">
                    <!-- Dropdown -->
                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                        <span class="account-text">Account</span>
                        <i class="fa fa-user" aria-hidden="true"></i>
                      </a>
                      <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Edit Profile</a>
                        <a class="dropdown-item" href="/upload">Upload Video</a>
                        <a class="dropdown-item" href="#">Settings</a>
                        <a class="dropdown-item" v-on:click="logout()">Log out</a>
                      </div>
                    </li>
                </div>
                <!-- Right elements -->
            </div>
        </nav>
        <!-- Navbar -->

        <div class="jumbotron jumbotron-fluid text-center" style="padding-top: 20px;">
          <h2>Video List</h2>
          <hr>
          <div v-if="videos.length === 0">
            <p>No videos available.</p>
          </div>
          <div v-else class="row justify-content-center">
            <div v-for="video in videos" :key="video.videoId" class="col-md-4 mb-4">
              <div class="card h-100 shadow-sm">
                <a :href="'/watch?v=' + video.videoId">
                  <video width="100%" height="200" class="card-img-top" muted>
                    <source :src="serviceURL + '/' + video.videoFile" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </a>
                <div class="card-body">
                  <h5 class="card-title">[[ video.title ]]</h5>
                  <p class="card-text">Uploaded by: [[ video.userId ]]</p> <!-- Replace with username if available -->
                </div>
              </div>
            </div>
          </div>
        </div>

    </div>

    <!-- Vue & Axios -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <!-- Custom JS -->
    <script type="text/javascript" src="/static/index.js"></script>
    <link rel="stylesheet" href="/static/main.css"/>

  </body>
</html>